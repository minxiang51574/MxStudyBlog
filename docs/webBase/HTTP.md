<!--
 * @Description: In User Settings Edit
 * @Author: your name
 * @Date: 2019-08-29 09:21:47
 * @LastEditTime: 2019-08-29 10:58:58
 * @LastEditors: Please set LastEditors
 -->
# HTTP

- TCP协议（传输控制协议）:应用程序之间的通信
- IP协议（网际协议）:计算机之间的通信
- HTTP协议（HyperText Transfer Protocol，超文本传输协议）是用于从服务器传输超文本到本地浏览器的传输协议。

HTTPS主要作用是：
对数据进行加密，并建立一个信息安全通道，来保证传输过程中的数据安全
对网站服务器进行真实身份认证

### HTTP 与 HTTPS 的区别

- HTTP 是明文传输，HTTPS 通过 SSL\TLS 进行了加密
- HTTP 的端口号是 80，HTTPS 是 443
- HTTPS 需要到 CA 申请证书，一般免费证书很少，需要交费
- HTTP 的连接很简单，是无状态的；HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全。

### 三次握手
- 第一次握手：客户端给服务器发送一个 SYN 报文。
- 第二次握手：服务器收到 SYN 报文之后，会应答一个 SYN+ACK 报文。
- 第三次握手：客户端收到 SYN+ACK 报文之后，会回应一个 ACK 报文。

### 四次挥手
- 第一次挥手：客户端发送一个 FIN 报文，报文中会指定一个序列号。此时客户端处于FIN_WAIT1状态。
- 服务端收到 FIN 之后，会发送 ACK 报文，且把客户端的序列号值 + 1 作为 ACK 报文的序列号值，表明已经收到客户端的报文了，此时服务端处于 CLOSE_WAIT状态。
- 第三次挥手：如果服务端也想断开连接了，和客户端的第一次挥手一样，发给 FIN 报文，且指定一个序列号。此时服务端处于 LAST_ACK 的状态
- 第四次挥手：客户端收到 FIN 之后，一样发送一个 ACK 报文作为应答，且把服务端的序列号值 + 1 作为自己 ACK 报文的序列号值，此时客户端处于 TIME_WAIT 状态。需要过一阵子以确保服务端收到自己的 ACK 报文之后才会进入 CLOSED 状态
- 服务端收到 ACK 报文之后，就处于关闭连接了，处于 CLOSED 状态

### 从输入URL到看到页面发生的全过程
- 浏览器的地址栏输入URL并按下回车
- 浏览器查找当前URL是否存在缓存，并比较缓存是否过期
- DNS解析URL对应的IP
- 根据IP建立TCP连接（三次握手）
- HTTP发起请求
- 服务器处理请求，浏览器接收HTTP响应
- 浏览器解析渲染页面
- 关闭TCP连接（四次挥手）

### 跨域
跨域:只要协议、域名、端口有任何一个不同，都被当作是不同的域.
同源策略:同源策略是一种约定.它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到等攻击.
跨域解决方案:
- 通过jsonp跨域。jsonp原理：ajax请求受同源策略影响，不允许进行跨域请求，而 script 标签 src 属性中的链接却可以访问跨域的js脚本，利用这个特性，服务端不再返回JSON格式的数据，而是返回一段调用某个函数的js代码，在src中进行了调用，这样实现了跨域。
- nginx代理跨域

 
