<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP | mxBlog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/logo.png">
    <meta name="description" content="不积硅步无以至千里">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bfb1ac.css" as="style"><link rel="preload" href="/blog/assets/js/app.03951f9c.js" as="script"><link rel="preload" href="/blog/assets/js/2.7ce02919.js" as="script"><link rel="preload" href="/blog/assets/js/19.91381002.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.c0040bef.js"><link rel="prefetch" href="/blog/assets/js/11.d6ff424e.js"><link rel="prefetch" href="/blog/assets/js/12.fe187a0d.js"><link rel="prefetch" href="/blog/assets/js/13.16f89c29.js"><link rel="prefetch" href="/blog/assets/js/14.5bfc1327.js"><link rel="prefetch" href="/blog/assets/js/15.36b07f8e.js"><link rel="prefetch" href="/blog/assets/js/16.44576d76.js"><link rel="prefetch" href="/blog/assets/js/17.362b9a77.js"><link rel="prefetch" href="/blog/assets/js/18.0d88b507.js"><link rel="prefetch" href="/blog/assets/js/20.eae1cedf.js"><link rel="prefetch" href="/blog/assets/js/21.eef060c7.js"><link rel="prefetch" href="/blog/assets/js/22.a67a6205.js"><link rel="prefetch" href="/blog/assets/js/23.90f6eb2b.js"><link rel="prefetch" href="/blog/assets/js/24.4c0f7c7c.js"><link rel="prefetch" href="/blog/assets/js/25.9fa8bf78.js"><link rel="prefetch" href="/blog/assets/js/26.94f7128a.js"><link rel="prefetch" href="/blog/assets/js/27.d84d5eb2.js"><link rel="prefetch" href="/blog/assets/js/28.519dd7f4.js"><link rel="prefetch" href="/blog/assets/js/29.8dec8ec4.js"><link rel="prefetch" href="/blog/assets/js/3.2bad3dc7.js"><link rel="prefetch" href="/blog/assets/js/30.614c71d0.js"><link rel="prefetch" href="/blog/assets/js/31.7e6a2d97.js"><link rel="prefetch" href="/blog/assets/js/32.75ff77fc.js"><link rel="prefetch" href="/blog/assets/js/33.7e546ae2.js"><link rel="prefetch" href="/blog/assets/js/34.0f95ecc0.js"><link rel="prefetch" href="/blog/assets/js/35.03ee5c2a.js"><link rel="prefetch" href="/blog/assets/js/4.b99494c6.js"><link rel="prefetch" href="/blog/assets/js/5.859a093c.js"><link rel="prefetch" href="/blog/assets/js/6.0b073004.js"><link rel="prefetch" href="/blog/assets/js/7.8e49328b.js"><link rel="prefetch" href="/blog/assets/js/8.a2494593.js"><link rel="prefetch" href="/blog/assets/js/9.739a4e63.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bfb1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">mxBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/base/" class="nav-link router-link-active">
  基础
</a></div><div class="nav-item"><a href="/blog/webImprove/" class="nav-link">
  进阶
</a></div><div class="nav-item"><a href="/blog/webpack/" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/blog/write/" class="nav-link">
  手写
</a></div><div class="nav-item"><a href="/blog/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/blog/vueBase/" class="nav-link">
  Vue基础
</a></div><div class="nav-item"><a href="/blog/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/blog/reactBase/" class="nav-link">
  React基础
</a></div><div class="nav-item"><a href="/blog/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/blog/test/" class="nav-link">
  大厂真题
</a></div><div class="nav-item"><a href="/blog/typeScript/" class="nav-link">
  TypeScript
</a></div> <a href="https://github.com/docschina/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/base/" class="nav-link router-link-active">
  基础
</a></div><div class="nav-item"><a href="/blog/webImprove/" class="nav-link">
  进阶
</a></div><div class="nav-item"><a href="/blog/webpack/" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/blog/write/" class="nav-link">
  手写
</a></div><div class="nav-item"><a href="/blog/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/blog/vueBase/" class="nav-link">
  Vue基础
</a></div><div class="nav-item"><a href="/blog/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/blog/reactBase/" class="nav-link">
  React基础
</a></div><div class="nav-item"><a href="/blog/node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/blog/test/" class="nav-link">
  大厂真题
</a></div><div class="nav-item"><a href="/blog/typeScript/" class="nav-link">
  TypeScript
</a></div> <a href="https://github.com/docschina/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/blog/base/HTTP.html" aria-current="page" class="active sidebar-link">HTTP</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/base/HTML.html" class="sidebar-link">HTML</a></li><li><a href="/blog/base/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/blog/base/JS.html" class="sidebar-link">JS</a></li><li><a href="/blog/base/ES6.html" class="sidebar-link">ES6</a></li><li><a href="/blog/base/数组.html" class="sidebar-link">数组</a></li><li><a href="/blog/base/exam.html" class="sidebar-link">面试题</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h1> <ul><li>TCP协议（传输控制协议）:应用程序之间的通信</li> <li>IP协议（网际协议）:计算机之间的通信</li> <li>HTTP协议（HyperText Transfer Protocol，超文本传输协议）是用于从服务器传输超文本到本地浏览器的传输协议。</li></ul> <p>HTTPS主要作用是：
对数据进行加密，并建立一个信息安全通道，来保证传输过程中的数据安全
对网站服务器进行真实身份认证</p> <h3 id="_1、http-与-https-的区别"><a href="#_1、http-与-https-的区别" class="header-anchor">#</a> 1、HTTP 与 HTTPS 的区别</h3> <ul><li>HTTP 是明文传输，HTTPS 通过 <strong>TLS/SSL协议</strong> 进行了加密</li> <li>HTTP 的端口号是 80，HTTPS 是 443</li> <li>HTTPS 需要到 CA 申请证书，一般免费证书很少，需要交费</li> <li>HTTP 的连接很简单，是无状态的；HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全。</li></ul> <h4 id="为什么https安全-特点"><a href="#为什么https安全-特点" class="header-anchor">#</a> 为什么HTTPS安全？特点？</h4> <ul><li>机密性-混合加密 对称加密与非对称加密</li> <li>身份认证-CA数字证书</li> <li>信息完整性 加钥算法md5</li></ul> <h4 id="http2"><a href="#http2" class="header-anchor">#</a> HTTP2</h4> <ul><li>请求的多路复用（TCP连接的多路复用）
在一个连接里，<strong>客户端和浏览器都可以同时发送多个请求或回应</strong>，而且不用按照顺序一一对应，这样就避免了”队头堵塞”</li> <li>请求头压缩
HTTP2.0使用encoder来减少需要传输的header大小，通讯双方各自cache一份header fields表，既避免了重复header的传输，又减小了需要传输的大小</li> <li>新的二进制格式
HTTP1.x的解析是基于文本。基于文本协议的格式解析存在天然缺陷，文本的表现形式有多样性，要做到健壮性考虑的场景必然很多，二进制则不同，只认0和1的组合。基于这种考虑HTTP2.0的协议解析决定采用二进制格式，实现方便且健壮</li> <li>服务端推送（server push）
HTTP2.0也具有server push功能</li></ul> <h3 id="_2、三次握手"><a href="#_2、三次握手" class="header-anchor">#</a> 2、三次握手</h3> <ul><li>第一次握手：客户端给服务器发送一个 SYN 报文。</li> <li>第二次握手：服务器收到 SYN 报文之后，会应答一个 SYN+ACK 报文。</li> <li>第三次握手：客户端收到 SYN+ACK 报文之后，会回应一个 ACK 报文。</li></ul> <h3 id="_3、四次挥手"><a href="#_3、四次挥手" class="header-anchor">#</a> 3、四次挥手</h3> <ul><li>第一次挥手：客户端发送一个 FIN 报文，报文中会指定一个序列号。此时客户端处于FIN_WAIT1状态。</li> <li>服务端收到 FIN 之后，会发送 ACK 报文，且把客户端的序列号值 + 1 作为 ACK 报文的序列号值，表明已经收到客户端的报文了，此时服务端处于 CLOSE_WAIT状态。</li> <li>第三次挥手：如果服务端也想断开连接了，和客户端的第一次挥手一样，发给 FIN 报文，且指定一个序列号。此时服务端处于 LAST_ACK 的状态</li> <li>第四次挥手：客户端收到 FIN 之后，一样发送一个 ACK 报文作为应答，且把服务端的序列号值 + 1 作为自己 ACK 报文的序列号值，此时客户端处于 TIME_WAIT 状态。需要过一阵子以确保服务端收到自己的 ACK 报文之后才会进入 CLOSED 状态</li> <li>服务端收到 ACK 报文之后，就处于关闭连接了，处于 CLOSED 状态</li></ul> <h3 id="_4、从输入url到看到页面发生的全过程"><a href="#_4、从输入url到看到页面发生的全过程" class="header-anchor">#</a> 4、从输入URL到看到页面发生的全过程</h3> <p>三个进程负责:主进程、渲染进程、网络进程；</p> <ul><li><p>1.浏览器输入URL</p></li> <li><p>2.浏览器查找当前URL是否存在缓存，并比较缓存是否过期</p></li> <li><p>3.DNS域名解析:解析出IP地址后，根据IP地址和默认80端口，和服务器建立TCP连接</p></li> <li><p>4.根据IP建立TCP连接（三次握手）</p></li> <li><p>5.HTTP发起请求：浏览器发起读取文件的HTTP请求，该请求报文作为TCP三次握手的第三次数据发送给服务器</p></li> <li><p>6.服务器处理请求，浏览器接收HTTP响应</p></li> <li><p>7.浏览器渲染页面：客户端（浏览器）解析HTML内容并渲染出来。</p></li> <li><p>8.关闭TCP连接：通过四次挥手释放TCP连接）</p></li> <li><p>浏览器接收到数据包后的解析流程为：</p> <ul><li>1.构建DOM树：解析HTML，构建DOM树</li> <li>2.构建CSS规则树：解析CSS，生成CSS规则树</li> <li>3.构建render树：合并DOM树和CSS规则，生成render树（render tree）</li> <li>4.布局（Layout）：布局render树（Layout/reflow），负责各元素尺寸、位置的计算</li> <li>5.绘制（Painting）：即遍历render树，绘制页面像素信息</li> <li>6.浏览器会将各层的信息发送给GPU，GPU会将各层合成（composite），显示在屏幕上</li></ul></li> <li><p>reflow：也称作layout，中文叫回流，一般意味着元素的内容、结构、位置或尺寸发生了变化，需要重新计算样式和渲染树，这个过程称为reflow。</p></li> <li><p>repaint：中文重绘，意味着元素发生的改变只是影响了元素的一些外观之类的时候(例如：背景色，边框颜色，文字颜色等)，此时只需要应用新样式绘制这个元素就可以了。
css解析不会阻塞html解析,会阻塞html渲染</p></li></ul> <h3 id="_5、http状态码"><a href="#_5、http状态码" class="header-anchor">#</a> 5、http状态码</h3> <ul><li>2XX：成功状态码
<ul><li><strong>200</strong> OK 正常返回信息</li> <li><strong>201</strong> Created 请求成功并且服务器创建了新的资源</li> <li><strong>202</strong> Accepted 服务器已接受请求，但尚未处理</li></ul></li> <li>3XX：重定向
<ul><li><strong>301</strong> Moved Permanently 请求的网页已永久移动到新位置。</li> <li><strong>302</strong> Found 临时性重定向。</li> <li><strong>303</strong> See Other 临时性重定向，且总是使用 GET 请求新的 URI。</li> <li><strong>304</strong> Not Modified 自从上次请求后，请求的网页未修改过。</li></ul></li> <li>4XX：客户端错误
<ul><li><strong>400</strong> Bad Request 服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求。</li> <li><strong>401</strong> Unauthorized 请求未授权。</li> <li><strong>403</strong> Forbidden 禁止访问。</li> <li><strong>404</strong> Not Found 找不到如何与 URI 相匹配的资源。</li></ul></li> <li>5XX: 服务器错误
<ul><li><strong>500</strong> Internal Server Error 最常见的服务器端错误。</li> <li><strong>503</strong> Service Unavailable 服务器端暂时无法处理请求（可能是过载或维护）。</li></ul></li></ul> <h3 id="_6、跨域"><a href="#_6、跨域" class="header-anchor">#</a> 6、跨域</h3> <p>跨域:只要协议、域名、端口有任何一个不同，都被当作是不同的域.
同源策略:同源策略是一种约定.它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到等攻击.
跨域解决方案:</p> <ul><li>通过jsonp跨域。jsonp原理：ajax请求受同源策略影响，不允许进行跨域请求，而 script 标签 src 属性中的链接却可以访问跨域的js脚本，利用这个特性，服务端不再返回JSON格式的数据，而是返回一段调用某个函数的js代码，在src中进行了调用，这样实现了跨域。</li> <li>nginx代理跨域</li> <li>CORS CORS(Cross-origin resource sharing)跨域资源共享 服务器设置对CORS的支持原理：服务器设置Access-Control-Allow-Origin HTTP响应头之后，浏览器将会允许跨域请求</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/docschina/vuepress/edit/master/docs/base/HTTP.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2/26/2022, 5:27:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/base/HTML.html">
        HTML
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.03951f9c.js" defer></script><script src="/blog/assets/js/2.7ce02919.js" defer></script><script src="/blog/assets/js/19.91381002.js" defer></script>
  </body>
</html>
